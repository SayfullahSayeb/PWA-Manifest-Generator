<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="icon.png" type="image/png">
    <link rel="manifest" href="manifest.json">
    <title>PWA Manifest Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Manifest Generator</h1>
    <div id="container">
        <!-- 1st column: Form Group -->
        <div class="form-left">
            <form id="manifestForm">
                <div class="form-group inline">
                    <div>
                        <label for="appName">App Name:</label>
                        <input type="text" id="appName" placeholder="Enter app name" required>
                    </div>
                    <div>
                        <label for="shortName">Short Name:</label>
                        <input type="text" id="shortName" placeholder="Enter short name" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="appDescription">Description:</label>
                    <input type="text" id="appDescription" placeholder="Enter description" required>
                </div>

                <div class="form-group inline">
                    <div>
                        <label for="themeColor">Theme Color (Hex):</label>
                        <input type="text" id="themeColor" placeholder="#4CAF50" required>
                    </div>
                    <div>
                        <label for="backgroundColor">Background Color (Hex):</label>
                        <input type="text" id="backgroundColor" placeholder="#ffffff" required>
                    </div>
                </div>

                <div class="form-group inline">
                    <div>
                        <label for="startUrl">Start URL:</label>
                        <input type="text" id="startUrl" placeholder="/" required>
                    </div>
                    <div>
                        <label for="scope">Scope:</label>
                        <input type="text" id="scope" placeholder="/" required>
                    </div>
                </div>

                <div class="form-group inline">
                    <div>
                        <label for="appId">App ID:</label>
                        <input type="text" id="appId" placeholder="Enter app ID" required>
                    </div>
                    <div>
                        <label for="lang">Language:</label>
                        <input type="text" id="lang" placeholder="en-US" required>
                    </div>
                </div>
                
                <div class="form-group inline">
                    <div>
                        <label for="displayMode">Display Mode:</label>
                        <select id="displayMode">
                            <option value="standalone">Standalone</option>
                            <option value="fullscreen">Fullscreen</option>
                            <option value="minimal-ui">Minimal UI</option>
                            <option value="browser">Browser</option>
                        </select>
                    </div>
                    <div>
                        <label for="displayOrientation">Display Orientation:</label>
                        <select id="displayOrientation">
                            <option value="any">Any</option>
                            <option value="landscape">Landscape</option>
                            <option value="portrait">Portrait</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group inline">
                    <div>
                        <label for="category">Category:</label>
                        <select id="category">
                            <option value="utilities">Utilities</option>
                            <option value="games">Games</option>
                            <option value="social">Social</option>
                            <option value="business">Business</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="education">Education</option>
                            <option value="finance">Finance</option>
                            <option value="productivity">Productivity</option>
                            <option value="lifestyle">Lifestyle</option>
                            <option value="shopping">Shopping</option>
                        </select>
                    </div>
                    <div>
                        <label for="textDirection">Text Direction:</label>
                        <select id="textDirection">
                            <option value="auto">Auto</option>
                            <option value="ltr">LTR (Left to Right)</option>
                            <option value="rtl">RTL (Right to Left)</option>
                        </select>
                    </div>
                </div>


                <div class="form-group">
                    <label for="iconUrl">Upload Icon (512x512px):</label>
                    <div class="file-upload-container">
                        <input type="file" id="iconUrl" accept="image/*" required>
                        <div class="upload-info">
                            <span>üìÅ Upload App Icon (512x512px)</span>
                            <small>Click to add or drag and drop icon here</small>
                        </div>
                    </div>
                    <div id="iconPreview" class="icon-preview"></div>
                </div>

                <div class="form-group">
                    <label for="screenshots">Screenshots (Multiple):</label>
                    <div class="file-upload-container">
                        <input type="file" id="screenshots" accept="image/*" multiple>
                        <div class="upload-info">
                            <span>üì∏ Add Screenshots (Recommended: 1280x720)</span>
                            <small>Click to add or drag and drop images here</small>
                        </div>
                    </div>
                    <div id="screenshotsList" class="screenshots-preview"></div>
                </div>

                <button type="submit">Generate Manifest</button>
            </form>
        </div>

        <!-- 2nd column: Mobile Frame -->
        <div class="mobile-frame">
            <div class="mobile-notch"></div>
            <div class="mobile-status-bar"> 
                <div class="status-left">
                    <span class="time" id="currentTime"></span>
                </div>
                <div class="status-right">
                    <!-- Signal SVG -->
                    <span class="signal">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="white">
                            <rect x="2" y="16" width="4" height="4"/>
                            <rect x="8" y="12" width="4" height="8"/>
                            <rect x="14" y="8" width="4" height="12"/>
                            <rect x="20" y="4" width="4" height="16"/>
                        </svg>
                    </span>
                    <!-- WiFi SVG -->
                    <span class="wireless">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="white">
                            <path d="M12 6c3.537 0 6.837 1.353 9.293 3.809l1.414-1.414C19.874 5.561 16.071 4 12 4c-4.071 0-7.874 1.561-10.707 4.395l1.414 1.414C5.163 7.353 8.463 6 12 6z"/>
                            <path d="M12 10c2.374 0 4.558.843 6.244 2.244l1.414-1.414C17.539 8.712 14.856 8 12 8c-2.856 0-5.539.712-7.658 1.83l1.414 1.414C7.442 10.843 9.626 10 12 10z"/>
                            <path d="M12 14c1.13 0 2.162.411 2.957 1.088l1.414-1.414C15.118 12.589 13.604 12 12 12s-3.118.589-4.371 1.674l1.414 1.414C9.838 14.411 10.87 14 12 14z"/>
                            <circle cx="12" cy="18" r="2"/>
                        </svg>
                    </span>
                    <!-- Battery SVG -->
<span class="battery">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
        <rect x="2" y="6" width="18" height="12" rx="2" fill="none" stroke="white" stroke-width="2"/>
        <!-- Changed width from 14 to 8.4 (60% of 14) for the fill rectangle -->
        <rect x="4" y="8" width="8.4" height="8" rx="1" fill="white"/>
        <path d="M22 12h2" stroke="white" stroke-width="2"/>
    </svg>
</span>
                </div>
            </div>
            <div class="mobile-screen">
                <div class="mobile-body">
                    <div class="preview-background" id="previewBackgroundColor"></div>
                    <div class="preview-content">
                        <div id="previewText">Your App Content Here</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 3rd column: Manifest Output -->
        <div class="form-right">
            <div id="manifestResult">
                <h2>Preview:</h2>
                <pre id="manifestOutput"></pre>
                <div class="button-group">
                    <button id="downloadManifest">Download ZIP</button>
                    <button id="copyJsonButton">Copy JSON</button>
                </div>
            </div>
        
            <!-- PWA Installation Instructions Dropdown -->
            <div class="pwa-instructions">
                <div class="dropdown-header" onclick="toggleInstructions()">
                    <h3>PWA Installation Steps</h3>
                    <span class="dropdown-arrow">‚ñº</span>
                </div>
                <div class="dropdown-content" id="installSteps">
                    <ol class="install-steps">
                        <li>Add these meta tags to your HTML <code>&lt;head&gt;</code>:</li>
                        <pre class="code-snippet">
&lt;link rel="manifest" href="/manifest.json"&gt;</pre>
                        
                        <li>Place the manifest.json file in your root directory</li>
                        <li>Place the icon in your root directory</li>
                        <li>Ensure your site is served over HTTPS</li>
                        <li>Test the PWA using Chrome DevTools > Application tab</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
    <script src="js/app.js"></script>
</body>
</html>